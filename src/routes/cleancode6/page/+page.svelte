<!-- auto-generated by QWER -->
<script lang="ts">
  /* eslint-disable @typescript-eslint/ban-ts-comment */
  // @ts-nocheck
  import Post from '$lib/layouts/post.svelte';
  import ImgZoom from '$lib/components/image_zoom.svelte';
  import Video from '$lib/components/video.svelte';
  import CodeCopy from '$lib/components/code_copy.svelte';
  import InfoBox from '$lib/components/info_box.svelte';
</script>

<Post>
  <article slot="post_content">
    <h1 id=""><a href="#">경계</a></h1>
    <p><ImgZoom src="/cleancode6/page/image.png" alt="/cleancode6/page/image.png"></ImgZoom></p>
    <h2 id="1"><a href="#1">경계 짓기(1) - 우리 코드를 보호하기</a></h2>
    <h3 id=""><a href="#">캡슐화</a></h3>
    <p><ImgZoom src="/cleancode6/page/image-1.png" alt="/cleancode6/page/image-1.png"></ImgZoom></p>
    <p>외부에서 사용되는 Sensor라는게 있다고 가정해보자.</p>
    <div class="code-block titled">
      <h2 class="code-title">Bad</h2>
      <CodeCopy>
        <pre><code
            class="language-java">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Sensor</span><span class="token punctuation">></span></span> sensors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Sensor</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token class-name">Sensor</span> s <span class="token operator">=</span> sensors<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>sensorId<span class="token punctuation">)</span><span class="token punctuation">;</span></div></div>`}</code></pre>
      </CodeCopy>
    </div>
    <p>위와 같이 사용하면, 외부에서 Sensor를 직접 사용할 수 있게 된다.</p>
    <ul>
      <li>Map 인터페이스가 제공하는 clear 등 불필요한 기능이 노출된다.</li>
      <li>외부 코드가 함부로 호출하면 sensor 데이터가 손상될 수 있고, 이는 의도와 벗어나게 된다.</li>
    </ul>
    <div class="code-block titled">
      <h2 class="code-title">Good</h2>
      <CodeCopy>
        <pre><code
            class="language-java">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sensors</span> <span class="token punctuation">{</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Sensor</span><span class="token punctuation">></span></span> sensors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Sensor</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">public</span> <span class="token class-name">Sensor</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token keyword">return</span> sensors<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">}</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">}</span></div></div>`}</code></pre>
      </CodeCopy>
    </div>
    <p>
      위와 같이 캡슐화를 통해 외부에서 사용할 수 없도록 하자. 캡슐화를 통해 원하는 기능만 제공할 수 있고, 적절한 경계로
      우리 코드를 보호할 수 있다.
    </p>
    <h2 id="2"><a href="#2">경계 짓기(2) - 외부 코드와 호환하기</a></h2>
    <p>
      외부 코드와 호환하는 방법으로 <code class="inline-code-block">Adapter Pattern</code>
      을 사용할 수 있다.
    </p>
    <p>
      <code class="inline-code-block">Adapter Pattern</code>
      은 외부 코드를 호출할 때, 우리가 정의한 인터페이스 대로 호출하기 위해 사용하는 패턴이다.
    </p>
    <p>
      <ImgZoom src="/cleancode6/page/image-3.png" alt="from Head First Design Pattern"></ImgZoom>
      <ImgZoom src="/cleancode6/page/image-2.png" alt="from Head First Design Pattern"></ImgZoom>
    </p>
    <p><ImgZoom src="/cleancode6/page/image-4.png" alt="from Head First Design Pattern"></ImgZoom></p>
    <p><ImgZoom src="/cleancode6/page/image-5.png" alt="어댑터패턴 클래스 구조도"></ImgZoom></p>
    <blockquote>
      <p>어댑터 패턴은 나중에 공부해서 따로 정리해야겠다.</p>
    </blockquote>
  </article>
</Post>
