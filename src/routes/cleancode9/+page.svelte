<!-- auto-generated by QWER -->
<script lang="ts">
  /* eslint-disable @typescript-eslint/ban-ts-comment */
  // @ts-nocheck
  import Post from '$lib/layouts/post.svelte';
  import ImgZoom from '$lib/components/image_zoom.svelte';
  import Video from '$lib/components/video.svelte';
  import CodeCopy from '$lib/components/code_copy.svelte';
  import InfoBox from '$lib/components/info_box.svelte';
</script>

<Post>
  <article slot="post_content">
    <h1 id="part-11"><a href="#part-11">Part 11. 시스템</a></h1>
    <h2 id=""><a href="#">관심사 분리</a></h2>
    <p>construction(생성)과 use(사용)은 아주 다르다.</p>
    <ul>
      <li>
        소프트웨어 시스템은 (어플리케이션 객체를 제작하고 의존성을 서로 &#39;연결&#39;하는) <strong>준비 과정</strong>
        과 (준비 과정 이후에 이어지는)
        <strong>런타임 로직</strong>
        을 분리해야 한다.
      </li>
      <li>객체의 생성과 객체를 사용하는 부분을 분리한다.</li>
    </ul>
    <h3 id=""><a href="#">시작에 대한 관심사 분리</a></h3>
    <blockquote>
      <p>객체의 생성은 시작 단계에서, 비즈니스 로직은 객체를 사용하는데 집중한다.</p>
    </blockquote>
    <ul>
      <li>시작 단계는 모든 어플리케이션이 풀어야할 관심사이다.</li>
      <li>main 함수에서 시스템에 필요한 객체를 생성한 후 어플리케이션에 넘긴다.</li>
      <li>어플리케이션은 그저 만들어진 객체를 사용한다.</li>
      <li>모든 객체가 잘 생성되었다고 가정하고, 객체를 이용한 개발에 집중한다.</li>
    </ul>
    <h3 id=""><a href="#">요청에 대한 관심사 분리</a></h3>
    <p><ImgZoom src="/cleancode9/img.png" alt="img.png"></ImgZoom></p>
    <p>Spring Framework를 예로 들어보자면</p>
    <p>Filter, Interceptor, AOP 등을 통해 요청에 대한 관심사를 분리할 수 있다.</p>
    <h2 id="dependency-injection"><a href="#dependency-injection">Dependency Injection (의존성 주입)</a></h2>
    <blockquote>
      <p>객체 의존성을 DI 컨테이너에 맡긴다.</p>
    </blockquote>
    <p><ImgZoom src="/cleancode9/img_1.png" alt="img_1.png"></ImgZoom></p>
    <ul>
      <li>Setter 주입 or 생성자 주입을 통해 의존성을 주입한다.</li>
      <li>DI 컨테이너는 요청이 들어올 때 필요한 객체의 인스턴스를 만든 후 의존성을 설정한다.</li>
      <li>
        예시 : <code class="inline-code-block">Spring IoC Container</code>
      </li>
    </ul>
    <h2 id="cross-cutting-concerns"><a href="#cross-cutting-concerns">Cross Cutting Concerns (횡단 관심 분리)</a></h2>
    <blockquote>
      <p>어플리케이션 전반에서 가지는 공통적인 관심사를 분리한다.</p>
    </blockquote>
    <p><ImgZoom src="/cleancode9/img_2.png" alt="img_2.png"></ImgZoom></p>
    <ul>
      <li>비즈니스 로직 외에 Logging, Transaction, Security 등의 관심사를 분리한다.</li>
      <li>관심사들은 많은 어플리케이션 레이어에 퍼져있는데, 이 관심사들을 분리해서 처리하는 것이 효율적이다.</li>
    </ul>
    <h3 id=""><a href="#">횡단 관심 분리의 필요성</a></h3>
    <div class="code-block">
      <CodeCopy>
        <pre><code
            class="language-java">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">public</span> <span class="token class-name">Response</span> <span class="token function">executeBusinessLogic</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token comment">// 공통 기능</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token function">checkAuth</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token comment">// 비즈니스 로직</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token class-name">Response</span> response <span class="token operator">=</span> <span class="token function">businessLogic</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token comment">// 공통 기능</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token function">logging</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">}</span></div></div>`}</code></pre>
      </CodeCopy>
    </div>
    <p>위 코드는 하나의 메서드에 공통 기능과 비즈니스 로직이 섞여있다. 이를 분리해보자.</p>
    <div class="code-block">
      <CodeCopy>
        <pre><code
            class="language-java">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">public</span> <span class="token class-name">Response</span> <span class="token function">executeBusinessLogic</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token comment">// 비즈니스 로직</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token class-name">Response</span> response <span class="token operator">=</span> <span class="token function">businessLogic</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">}</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment">// 공통 기능은 별도의 코드에서 관리한다.</span></div></div>`}</code></pre>
      </CodeCopy>
    </div>
    <p>이렇게 분리하면 비즈니스 로직에 집중할 수 있고, 공통 기능을 변경할 때도 편리하다.</p>
  </article>
</Post>
